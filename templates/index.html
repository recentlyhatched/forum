<!-- templates/index.html -->
<!doctype html>
<html><head><meta charset="utf-8"><title>Forum</title></head><body>
<header>
  <h1>Simple Forum</h1>
  {{if .User}}Hello {{.User.Username}} | <a href="/logout">Logout</a> | <a href="/post/create">Create post</a>{{else}}<a href="/login">Login</a> | <a href="/register">Register</a>{{end}}
  <hr/>
</header>

<aside>
  <h3>Categories</h3>
  <ul>
    {{range .Categories}}
      <li><a href="/filter?category={{.ID}}">{{.Name}}</a></li>
    {{end}}
  </ul>
</aside>

<main>
  <h2>Recent posts</h2>
  {{range .Posts}}
    <article>
      <h3><a href="/post/{{.ID}}">{{.Title}}</a></h3>
      <p>By {{.Author}} at {{.Created}}</p>
      <p>{{.Body}}</p>
    </article>
  {{else}}
    <p>No posts yet.</p>
  {{end}}
</main>
</body></html>
